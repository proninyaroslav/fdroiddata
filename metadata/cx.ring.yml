Categories:
  - Internet
  - Phone & SMS
License: GPL-3.0-or-later
WebSite: https://jami.net/
SourceCode: https://review.jami.net/plugins/gitiles/jami-client-android
IssueTracker: https://git.jami.net/savoirfairelinux/jami-client-android/issues
Translation: https://www.transifex.com/savoirfairelinux/jami

AutoName: Jami

RepoType: git
Repo: https://github.com/proninyaroslav/jami-client-android.git

Builds:
  - versionName: 20250430-01
    versionCode: 456
    commit: 8cbb89a430360bc01299be20d2bc9f5d7cc2aaa9
    timeout: 10800
    subdir: jami-android/app
    submodules: true
    sudo:
      - apt-get update
      - apt-get install -y automake autopoint bzip2 cmake g++ gettext libtool libyaml-cpp-dev
        make pkg-config python-is-python3 yasm
      - echo "deb https://deb.debian.org/debian trixie main" > /etc/apt/sources.list.d/trixie.list
      - apt-get update
      - apt-get install -y -t trixie swig
    gradle:
      - withUnifiedPush
    prebuild:
      - sed -i -e "/android {/a lint { abortOnError = false }" build.gradle.kts
      - sed -i -e '/gms/d' ../build.gradle.kts
      - sdkmanager 'cmake;3.30.5'
    scandelete:
      - daemon/contrib/src/*/package.json
      - daemon/compat/msvc/package.json
    build:
      - cd ../../daemon/bin/jni
      - PACKAGEDIR=../../../jami-android/libjamiclient/src/main/java ./make-swig.sh

AutoUpdateMode: Version
UpdateCheckMode: Tags
CurrentVersion: 20250430-01
CurrentVersionCode: 456
